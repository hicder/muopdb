syntax = "proto3";
package muopdb;

service Aggregator {
  rpc Get(GetRequest) returns (GetResponse) {}
}

message GetRequest {
  string key = 1;
}

message GetResponse {
  string value = 1;
}

service IndexServer {
  rpc Search(SearchRequest) returns (SearchResponse) {}
}

message SearchRequest {
  string index_name = 1;
  repeated float vector = 2;
  uint32 top_k = 3;

  // TODO(hicder): Support different distance metrics
}

message SearchResponse {
  repeated uint64 ids = 1;
}
