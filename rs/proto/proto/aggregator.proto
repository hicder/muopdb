syntax = "proto3";
package aggregator;

import "muopdb.proto";

service Aggregator {
  rpc Get(GetRequest) returns (GetResponse) {}
}

message GetRequest {
  string index = 1;
  repeated float vector = 2;
  muopdb.SearchParams params = 9;
  repeated muopdb.Id user_ids = 6;
  optional muopdb.DocumentFilter where_document = 10;
}

message GetResponse {
  repeated uint64 low_ids = 1;
  repeated uint64 high_ids = 3;

  // For metrics, not enabled by default
  uint64 num_pages_accessed = 2;
}
